{"version":3,"sources":["webpack:///webpack/bootstrap 56376b820ad554d7f7c8","webpack:///./js/game.js","webpack:///./js/area.js","webpack:///./js/book.js","webpack:///./js/html/fight_display.js","webpack:///./js/player.js","webpack:///./js/fighter.js","webpack:///./js/world.js","webpack:///./js/exit.js","webpack:///./js/feature.js","webpack:///./js/areas/plane.js","webpack:///./js/box.js","webpack:///./js/item.js","webpack:///./js/areas/crashsite.js","webpack:///./js/areas/red_flag.js","webpack:///./js/areas/blue_flag.js","webpack:///./js/areas/dry_stream.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB,2BAA2B;AAC/C;AACA;AACA,yBAAwB,uCAAuC;AAC/D;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,qBAAoB,2BAA2B;AAC/C,uBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA,yBAAwB,uCAAuC;AAC/D,2BAA0B,gDAAgD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA,uBAAsB,uCAAuC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;;;;AC/DA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kBAAiB,0BAA0B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA,eAAc,UAAU;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ,2BAA0B;AAC1B,oBAAmB;AACnB,2BAA0B;AAC1B,oBAAmB;AACnB,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf,kBAAiB;AACjB,uBAAsB;AACtB,6BAA4B;AAC5B;AACA,SAAQ;AACR,OAAM;AACN;AACA;AACA;;AAEA;;;;;;;AC1CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,4BAA4B;AAC1C;AACA;AACA;AACA,eAAc,mBAAmB;AACjC;AACA;AACA;AACA;AACA;AACA,uBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,qBAAoB,0BAA0B;AAC9C;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,UAAS;AACT,QAAO;AACP;AACA,mBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAkB,4BAA4B;AAC9C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,oBAAoB;AAClC,qBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACxOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;AChGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB,eAAe;AACrC;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,gBAAgB;AACrC;;AAEA;AACA;AACA;;AAEA;;;;;;;ACjBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,6BAA6B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAqB,cAAc;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,qCAAqC;AACxD;AACA;AACA;AACA;AACA;AACA,wBAAuB,iDAAiD;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;;;;;;;AClCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED","file":"./js/wendigo.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 56376b820ad554d7f7c8\n **/","var Area = require('./area.js');\nvar Book = require('./book.js');\nvar Player = require('./player.js');\nvar worldMap = require('./world.js');\n\nwindow.onload = function () {\n  init();\n};\n\nvar init = function () {\n  game = {};\n  game.worldMap = worldMap;\n  game.player = new Player ({\n    book: new Book ({\n      inputId: 'main-input',\n      areaId: 'area-window',\n      playerId: 'player-window',\n      inventory: 'inventory',\n      highlighter: 'highlighter',\n    }),\n    name: 'Swift Runner',\n    moves: [],\n    hitpoints: 100,\n    spawnpoint: 'plane',\n    worldMap: game.worldMap,\n  });\n  game.player.init();\n  game.player.book.init();\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/game.js\n ** module id = 0\n ** module chunks = 0\n **/","Area = function (args) {\n  this.description = args.description;\n  this.postscript = args.postscript;\n  this.contents = args.contents;\n  this.name = args.name;\n  this.onExit = args.onExit;\n  this.worldMap = args.worldMap;\n  this.getNouns = function () {\n    var nouns = [];\n    for (var x = 0 ; x < this.contents.length ; x++) {\n      nouns.push(this.contents[x].name.toLowerCase());\n      if (this.contents[x].contents) {\n        for (var z = 0 ; z < this.contents[x].contents.length ; z++) {\n          nouns.push(this.contents[x].contents[z].name.toLowerCase());\n        }\n      }\n    }\n    this.nouns = nouns;\n  }.bind(this);\n  this.getVerbs = function () {\n    var verbs = [];\n    for (var x = 0 ; x < this.contents.length ; x++) {\n      for (var y = 0 ; y < this.contents[x].verbs.length ; y++) {\n        if (!verbs.includes(this.contents[x].verbs[y])) {\n          verbs.push(this.contents[x].verbs[y]);\n        }\n      }\n      if (this.contents[x].contents) {\n        for (var z = 0 ; z < this.contents[x].contents.length ; z++) {\n          for (var a = 0 ; a < this.contents[x].contents[z].verbs.length ; a++) {\n            if (!verbs.includes(this.contents[x].contents[z].verbs[a])) {\n              verbs.push(this.contents[x].contents[z].verbs[a]);\n            }\n          }\n        }\n      }\n    }\n    this.verbs = verbs;\n  }.bind(this);\n  this.getNouns();\n  this.getVerbs();\n  this.contents.forEach(function (feature) {\n    feature.location = this;\n  }.bind(this));\n};\n\nArea.prototype.getNoun = function (name) {\n  for (var x = 0 ; x < this.contents.length ; x++) {\n    if (this.contents[x].name.toLowerCase() === name.toLowerCase()) {\n      return this.contents[x];\n    }\n    if (this.contents[x].contents) {\n      for (var y = 0 ; y < this.contents[x].contents.length ; y++) {\n        if (this.contents[x].contents[y].name === name) {\n          return this.contents[x].contents[y];\n        }\n      }\n    }\n  }\n  return false;\n};\n\n\nmodule.exports = Area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/area.js\n ** module id = 1\n ** module chunks = 0\n **/","var fight_display = require('./html/fight_display.js');\n\nBook = function (args) {\n  this.input = document.getElementById(args.inputId);\n  this.areaWindow = document.getElementById(args.areaId);\n  this.playerWindow = document.getElementById(args.playerId);\n  this.inventory = document.getElementById(args.inventory);\n  this.highlighter = document.getElementById(args.highlighter);\n  this.player = args.player;\n  this.fightScreen = false;\n  this.fightDisplay = fight_display;\n  this.fightComment = 'vs.';\n};\n\nBook.prototype.init = function () {\n  window.scrollTo(0, 0);\n  var input = document.getElementById('main-input');\n  input.onkeydown = function (event) {\n    if (event.keyCode === 13) {\n      this.player.getInput(input.value);\n      input.value = '';\n    }\n  }.bind(this);\n  this.highlighter.onclick = function () {\n    if (this.player.highlightOff) {\n      this.player.highlightOff = false;\n      this.highlighter.className = 'highlighter';\n    } else {\n      this.player.highlightOff = true;\n      this.highlighter.className = 'off';\n    }\n    this.player.lookAround();\n  }.bind(this);\n};\n\nBook.prototype.clearInventory = function () {\n  this.inventory.innerHTML = \"\";\n};\n\nBook.prototype.displayInventory = function (item) {\n  this.inventory.innerHTML += '<li>'+item.name+'</li>';\n};\n\nBook.prototype.readArea = function (area) {\n  var description = \"\";\n  description += area.description;\n  for (var x = 0; x < area.contents.length; x++) {\n    description += \" \" + area.contents[x].description;\n  }\n  if (area.postscript) {\n    description += \" \" + area.postscript;\n  }\n  description = this.player.highlight(description);\n  this.areaWindow.innerHTML = description;\n};\n\nBook.prototype.scrollDown = function (scrollDelta, diff) {\n  if (!diff) { diff = 1; }\n  var y = window.pageYOffset;\n  window.scrollTo(0, y+diff);\n  diff += 0.5;\n  if (diff < scrollDelta) {\n    window.setTimeout(function () {\n      this.scrollDown(scrollDelta, diff);\n    }.bind(this), 10);\n  }\n};\n\nBook.prototype.scrollUp = function (scrollDelta, diff) {\n  if (!diff) { diff = 1; }\n  var y = window.pageYOffset;\n  window.scrollTo(0, y-diff);\n  diff += 0.5;\n  if (diff < scrollDelta) {\n    window.setTimeout(function () {\n      this.scrollUp(scrollDelta, diff);\n    }.bind(this), 10);\n  }\n};\n\nBook.prototype.describeFight = function (player, opponent, callback) {\n  player.listMoves();\n  var fight = {\n    player: player,\n    opponent: opponent,\n    playerEnterMove: function (move) {\n      this.printFightMove(move.name);\n    }.bind(this),\n    opponentEnterMove: function (move) {\n      this.printFightMove(move.name);\n    }.bind(this),\n  };\n  this.playerWindow.className = 'fight-window';\n  this.input.blur();\n  this.scrollDown(16);\n  fight.player.currentMove = {\n    index: 0,\n    data: player.moves[0],\n  };\n  this.playerWindow.innerHTML = this.fightDisplay.fighter(player, player.currentMove.data);\n  this.playerWindow.innerHTML += '<br><div>' + this.fightComment + '</div><br>' + this.fightDisplay.fighter(fight.opponent, fight.opponent.currentMove);\n  this.setUpFightControls(fight, callback);\n};\n\nBook.prototype.concludeFight = function () {\n  this.playerWindow.className = 'player-window';\n  this.scrollUp(18);\n  this.playerWindow.innerHTML = '';\n  this.unplugFightControls();\n  this.input.focus();\n  this.readArea(this.player.location);\n};\n\nBook.prototype.setUpFightControls = function (fight, callback) {\n  var slideLeft; var slideRight; var player;\n  player = fight.player;\n  slideLeft = function () {\n    player.currentMove.index -= 1;\n    if (player.currentMove.index < 0) {\n      player.currentMove.index = player.moves.length-1;\n    }\n    player.currentMove.data = player.moves[player.currentMove.index];\n    this.playerWindow.innerHTML = this.fightDisplay.fighter(player, player.currentMove.data);\n    this.playerWindow.innerHTML += '<br><div>' + this.fightComment + '</div><br>' + this.fightDisplay.fighter(fight.opponent, fight.opponent.currentMove);\n  }.bind(this);\n  slideRight = function () {\n    player.currentMove.index += 1;\n    if (player.currentMove.index >= player.moves.length) {\n      player.currentMove.index = 0;\n    }\n    player.currentMove.data = player.moves[player.currentMove.index];\n    this.playerWindow.innerHTML = this.fightDisplay.fighter(player, player.currentMove.data);\n    this.playerWindow.innerHTML += '<br><div>' + this.fightComment + '</div><br>' + this.fightDisplay.fighter(fight.opponent, fight.opponent.currentMove);\n  }.bind(this);\n  window.onkeydown = function (event) {\n    if (event.key == 'ArrowLeft') {\n      slideLeft();\n    }\n    if (event.key == 'ArrowRight') {\n      slideRight();\n    }\n    if (event.key == ' ') {\n      callback();\n    }\n  };\n};\n\nBook.prototype.unplugFightControls = function () {\n  window.onkeydown = null;\n};\n\nBook.prototype.updateFightDisplay = function (player, opponent, comment) {\n  if (comment) {\n    this.fightComment = comment;\n  }\n  this.playerWindow.innerHTML = this.fightDisplay.fighter(player, player.currentMove.data);\n  this.playerWindow.innerHTML += '<br><div>' + this.fightComment + '</div><br>' + this.fightDisplay.fighter(opponent, opponent.currentMove);\n};\n\nBook.prototype.printFightMove = function (move) {\n  this.playerWindow.innerHTML += \"\\n\" + move.name;\n};\n\nBook.prototype.endFight = function () {\n  this.playerWindow.classname = 'player-window';\n};\n\nmodule.exports = Book;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/book.js\n ** module id = 2\n ** module chunks = 0\n **/","fight_display = {};\nfight_display.move = function (move) {\n  return \"\"+\n  \"<ul class='move'> \"+\n    \"<li><span class='move-lefty'>◀</span> \"+move.name+\" <span class='move-righty'>▶</span></li>\"+\n    \"<li class='move-stat'>attack:</li> \"+\n    \"<v class='move-stat'>\"+move.attack.crush+\"♣ \"+move.attack.cut+\"♦ \"+move.attack.blast+\"♥ \"+move.attack.stab+\"♠\"+\"</v>\"+\n    \"<li class='move-stat'>defense:</li>  \"+\n    \"<n class='move-stat'>\"+move.defense.crush+\"♣ \"+move.defense.cut+\"♦ \"+move.defense.blast+\"♥ \"+move.defense.stab+\"♠ \"+\"</n>\"+\n  \"</ul> \"+\n\"  \"+\n  \"<style media='screen'>  \"+\n    \".move { \"+\n      \"position: relative; \"+\n      \"right: 41px; \"+\n      \"text-align: center; \"+\n      \"width: 100%;  \"+\n    \"} \"+\n  \"</style>  \"+\n\"  \";\n};\nfight_display.fighter = function (fighter, move) {\n  return \"  \"+\n\"  \"+\n  \"<section class='display'> \"+\n    \"<h1>\"+fighter.name+\"</h1> \"+\n    \"<h1 class='healthbar'>\"+fighter.hitpointsString()+\"</h1> \"+\n    \"<span>\"+fight_display.move(move)+\"</span> \"+\n  \"</section>  \"+\n\"  \"+\n  \"<style media='screen'>  \"+\n    \".display {  \"+\n      \"h1, span {  \"+\n        \"margin: auto; \"+\n        \"text-align: center; \"+\n        \"width: 100% \"+\n      \"} \"+\n    \"} \"+\n  \"</style>  \"+\n\"\";\n};\n\nmodule.exports = fight_display;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/html/fight_display.js\n ** module id = 3\n ** module chunks = 0\n **/","var Fighter = require('./fighter.js');\n\nPlayer = function (args) {\n  this.name = args.name;\n  this.book = args.book;\n  this.location = args.worldMap[args.spawnpoint];\n  this.moves = args.moves;\n  this.hitpoints = args.hitpoints;\n  this.inventory = [];\n  this.highlightOff = false;\n};\n\nPlayer.prototype.getInput = function (input) {\n  var command = this.parseInput(input);\n};\n\nPlayer.prototype.parseInput = function (input) {\n  input = input.toLowerCase();\n  if (input[0] === ' ') {\n    input = input.slice(1, input.length);\n  }\n  var verbs = this.location.verbs;\n  var nouns = this.location.nouns;\n  var verb;\n  var noun;\n  for (x = 0 ; x < this.inventory.length ; x++) {\n    nouns.push(this.inventory[x].name);\n  }\n  var verbEnd = 0;\n  for (x = 0 ; x < input.length ; x++) {\n    if (verbs.includes(input.slice(0, x))) {\n      verb = (input.slice(0, x));\n      verbEnd = x;\n    }\n  }\n  for (x = verbEnd+2 ; x <= input.length ; x++) {\n    if (nouns.includes(input.slice(verbEnd+1, x))) {\n      noun = (input.slice(verbEnd+1, x));\n    }\n  }\n  this.executeCommand(verb, noun);\n};\n\nPlayer.prototype.executeCommand = function (verb, noun) {\n  if (!verb) {\n    this.display(\"Unknown <v>verb</v>.\");\n    return undefined;\n  } else if (!noun) {\n    this.display(\"Unknown <n>noun</n>.\");\n    return undefined;\n  } else {\n    this.display(\"\");\n    if (this.location.getNoun(noun)) {\n      noun = this.location.getNoun(noun);\n    } else if (this.getInventoryNoun(noun)) {\n      noun = this.getInventoryNoun(noun);\n    } else {\n      this.display(\"Unknown <n>noun</n>\");\n    }\n    if (noun[verb]) {\n      verb = noun[verb];\n      var exe = verb(noun, this);\n      if (exe) {\n        this.display(exe);\n      }\n    } else {\n      verbs = \"\";\n      if (noun.verbs.length > 1) {\n        for (x = 0 ; x < noun.verbs.length-1 ; x++) {\n          verbs += \"<v>\" + noun.verbs[x] + \"</v>\" + \" \";\n        }\n        verbs += \"or <v>\" + noun.verbs[noun.verbs.length-1] + \"</v>\" + \".\";\n      } else {\n        verbs = \"<v>\" + noun.verbs[0] + \"</v>.\";\n      }\n      this.display(\"You can't do that <v>verb</v> to that <n>noun</n>. Try \" + verbs);\n    }\n  }\n\n  Player.prototype.startFight = function (target) {\n    var move = this.chooseMove();\n    this.attack(target, move);\n  };\n\n  Player.prototype.getMove = function (attacker, attackerMove) {\n    var move = this.moves[0];\n    this.attack(attacker, move);\n\n    // The player will choose from their list of moves, sometimes getting hints\n    // about their attacker's moves, if they are perceptive (stat).\n  };\n\n  Player.prototype.attack = function (target, move) {\n    target.isAttacked(this, move);\n  };\n\n  Player.prototype.isAttacked = function (opponent, move) {\n    var response = this.chooseMove(move);\n    // The Player can either engage or flee.\n  };\n\n  Player.prototype.haveFightDescribed = function (opponent, callback) {\n    this.book.describeFight(this, opponent, callback);\n  };\n\n  Player.prototype.concludeFight = function () {\n    this.book.concludeFight();\n  };\n\n  Player.prototype.listMoves = function () {\n    this.moves = [\n      {\n        name: 'punch',\n        attack: {\n          cut: 0,\n          stab: 0,\n          crush: 7,\n          blast: 0,\n        },\n        defense: {\n          cut: 0,\n          stab: 0,\n          crush: 1,\n          blast: 0,\n        },\n      },\n    ];\n    for (var ii=0; ii < this.inventory.length; ii++) {\n      if (this.inventory[ii].moves) {\n        this.moves = this.moves.concat(this.inventory[ii].moves);\n      }\n    }\n  };\n\n  Player.prototype.engage = function (opponent, move, response) {\n    var damage = 0;\n    var damageTypes = ['cut', 'stab', 'crush', 'blast'];\n\n    damageTypes.forEach(function (type) {\n      damage += (move.attack[type] - response.defense[type]) < 0 ?\n      0 : (move.attack[type] - response.defense[type]);\n    });\n\n    var dealtDamage = 0;\n    damageTypes.forEach(function (type) {\n      dealtDamage += (response.attack[type] - move.defense[type]) < 0 ?\n      0 : (response.attack[type] - move.defense[type]);\n    });\n\n    this.hitpoints -= damage;\n    var comment = 'You take ' + damage + ' damage and deal ' + dealtDamage + '.';\n    if (this.hitpoints > 0 && opponent.hitpoints > 0) {\n      this.book.updateFightDisplay(this, opponent, comment);\n    }\n  };\n};\n\nPlayer.prototype.die = function () {\n  window.alert(\"You've died.\");\n  window.scrollTo(0, 0);\n  location.reload();\n};\n\nPlayer.prototype.getInventoryNoun = function (name) {\n  for (var x = 0 ; x < this.inventory.length ; x++) {\n    if (this.inventory[x].name === name) {\n      return this.inventory[x];\n    }\n  }\n  return false;\n};\n\nPlayer.prototype.display = function (text) {\n  this.book.playerWindow.innerHTML = this.highlight(text);\n};\n\nPlayer.prototype.highlight = function (text) {\n  if (this.highlightOff) {\n    return text;\n  }\n  var nouns = this.location.nouns;\n  var verbs = this.location.verbs;\n  for (x = 0 ; x < text.length-1 ; x++) {\n    for (var y = 1 ; y < text.length ; y++) {\n      var output;\n      if (nouns.includes(text.slice(x, y).toLowerCase())) {\n        output = text;\n        if (text.slice(x-3, x) !== \"<n>\") {\n          output = [text.slice(0, x), \"<n>\", text.slice(x)].join('');\n          output = [output.slice(0, y+3), \"</n>\", output.slice(y+3)].join('');\n        }\n        text = output;\n      } else if (verbs.includes(text.slice(x, y).toLowerCase())) {\n        output = text;\n        if (text.slice(x-3, x) !== \"<v>\") {\n          output = [text.slice(0, x), \"<v>\", text.slice(x)].join('');\n          output = [output.slice(0, y+3), \"</v>\", output.slice(y+3)].join('');\n        }\n        text = output;\n      }\n    }\n  }\n  return text;\n};\n\nPlayer.prototype.hitpointsString = Fighter.prototype.hitpointsString;\n\nPlayer.prototype.enterArea = function () {\n  this.lookAround();\n  this.location.player = this;\n};\n\nPlayer.prototype.readArea = function (area) {\n  this.book.readArea(area);\n};\n\nPlayer.prototype.lookAround = function () {\n  this.book.readArea(this.location);\n};\n\nPlayer.prototype.updateInventory = function () {\n  this.book.clearInventory();\n  this.inventory.forEach(function (item) {\n    this.book.displayInventory(item);\n  }.bind(this));\n};\n\nPlayer.prototype.init = function () {\n  this.book.player = this;\n  this.lookAround();\n};\n\nmodule.exports = Player;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/player.js\n ** module id = 4\n ** module chunks = 0\n **/","/*jshint sub:true*/\nFighter = function (args) {\n  this.checkText = args.checkText;\n  this.name = args.name;\n  this.verbs = args.verbs;\n  this.description = args.description;\n  this.hitpoints = args.hitpoints;\n  this.moves = args.moves;\n  this.onFight = args.onFight;\n  this.onDeath = args.onDeath;\n};\n\nFighter.prototype[\"check\"] = function (noun, player) {\n  player.display(noun.checkText);\n  if (this.onCheck) {\n    this.onCheck();\n  }\n};\n\nFighter.prototype[\"attack\"] = function (noun, player) {\n  player.getMove(noun);\n};\n\nFighter.prototype.startFight = function (target) {\n  var move = this.chooseMove();\n  target.isAttacked(this, move);\n};\n\nFighter.prototype.chooseMove = function (attackerMove) {\n  var move = this.moves[Math.floor(Math.random()*this.moves.length*0.99)];\n  this.currentMove = move;\n  return move;\n  // Move decision logic will be based on data in the Fighter's memory object\n  // about what has been most effective in the past.\n};\n\nFighter.prototype.hitpointsString = function () {\n  var string = \"\";\n  for (var x = 0; x < this.hitpoints; x+=3) {\n    string += \"█\";\n  }\n  if (string.length < this.hitpoints/3) {\n    string += \"▌\";\n  }\n  return string;\n};\n\nFighter.prototype.isAttacked = function (opponent, move) {\n  if (this.onFight) {\n    this.onFight();\n  }\n  var response = this.chooseMove(move);\n  // The Fighter will sometimes flee, otherwise they attack\n  if (opponent.haveFightDescribed) {\n    opponent.haveFightDescribed(this, function () {\n      this.engage(opponent, opponent.currentMove.data, response);\n      opponent.engage(this, response, opponent.currentMove.data);\n    }.bind(this));\n  }\n  if (opponent.book) {\n    this.attackInterval = window.setInterval(function () {\n      if (Math.round(Math.random())) {\n        this.chooseMove();\n        opponent.book.updateFightDisplay(opponent, this);\n      }\n    }.bind(this), 750);\n  }\n};\n\nFighter.prototype.die = function (opponent) {\n  if (this.onDeath) {\n    this.onDeath();\n  }\n  clearInterval(this.attackInterval);\n  opponent.concludeFight();\n  this.engage = null;\n};\n\nFighter.prototype.engage = function (opponent, move, response) {\n  this.chooseMove();\n  var damage = 0;\n  var damageTypes = ['cut', 'stab', 'crush', 'blast'];\n\n  damageTypes.forEach(function (type) {\n    damage += (move.attack[type] - response.defense[type]) < 0 ?\n    0 : (move.attack[type] - response.defense[type]);\n  });\n  this.hitpoints -= damage;\n  if (this.hitpoints <= 0) {\n    this.die(opponent);\n  }\n  if (opponent.hitpoints <= 0) {\n    opponent.die();\n  }\n};\n\nmodule.exports = Fighter;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/fighter.js\n ** module id = 5\n ** module chunks = 0\n **/","var Area = require('./area.js');\nvar Exit = require('./exit.js');\nvar Feature = require('./feature.js');\n\nvar worldMap = {};\n\nworldMap.plane = require('./areas/plane.js');\nworldMap.crashsite = require('./areas/crashsite.js');\nworldMap.red_flag = require('./areas/red_flag.js');\nworldMap.blue_flag = require('./areas/blue_flag.js');\nworldMap.dry_stream = require('./areas/dry_stream.js');\n\nmodule.exports = worldMap;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/world.js\n ** module id = 6\n ** module chunks = 0\n **/","Exit = function (args) {\n  this.name = args.name;\n  this.checkText = args.checkText;\n  this.destinationName = args.destinationName;\n  this.locked = args.locked;\n  this.lockCheck = args.lockCheck;\n  this.keyName = args.keyName;\n  this.verbs = args.verbs;\n  this.onExit = args.onExit;\n  this.onTry = args.onTry;\n  this.description = args.description;\n};\n\nExit.prototype[\"go to\"] = function (noun, player) {\n  if (!noun.locked) {\n    var worldMap = require(\"./world.js\");\n    player.location = worldMap[noun.destinationName];\n    if (this.onExit) { this.onExit(); }\n    player.enterArea();\n  } else {\n    return noun.lockCheck;\n  }\n};\n\nExit.prototype[\"check\"] = function (noun, player) {\n  player.display(noun.checkText);\n};\n\nExit.prototype[\"@\"] = function (noun, player) {\n  Exit.prototype[\"go to\"](noun, player);\n};\n\nExit.prototype.getDestination = function () {\n  var worldMap = require(\"./world.js\");\n  return worldMap[this.destinationName];\n};\n\nmodule.exports = Exit;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/exit.js\n ** module id = 7\n ** module chunks = 0\n **/","Feature = function (args) {\n  this.checkText = args.checkText;\n  this.name = args.name;\n  this.verbs = args.verbs;\n  this.description = args.description;\n  this.onCheck = args.onCheck;\n};\n\nFeature.prototype[\"check\"] = function (noun, player) {\n  player.display(noun.checkText);\n  if (noun.onCheck) { noun.onCheck(); }\n};\n\nFeature.prototype[\"@\"] = function (noun, player) {\n  this[\"check\"]();\n};\n\nmodule.exports = Feature;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/feature.js\n ** module id = 8\n ** module chunks = 0\n **/","var Area = require('../area.js');\nvar Feature = require('../feature.js');\nvar Box = require('../box.js');\nvar Item = require('../item.js');\nvar Exit = require('../exit.js');\n\narea = new Area ({\n  description: \"You're huddled in what looks like the inside of a large metal pipe.\",\n  name: 'plane',\n  worldMap: this,\n  onExit: function () {\n    var door;\n    door = this.getNoun('door');\n    door.description = \"It's completely dark except for a shaft of light coming in through a door above you.\";\n    door.checkText = \"You can see the pale desert sky through the square hatch of the door.\";\n  },\n  contents: [\n    new Feature ({\n      name: \"sand\",\n      description: \"The ground underneath you is warm sand.\",\n      checkText: \"If you dig a few inches into the course sand beneath you you feel hard metal.\",\n      verbs: [\"check\"],\n    }),\n    new Exit ({\n      name: \"door\",\n      description: \"It's completely dark except for a shaft of light coming in through a door above you. The light hurts your eyes when you look at it.\",\n      checkText: \"Beyond the square hatch of the door you can only see blinding whiteness.\",\n      destinationName: 'crashsite',\n      verbs: [\"check\", \"go to\"],\n    }),\n    new Feature ({\n      name: \"extra\",\n      description: '<br><br>You can input commands in the format of \"<v>verb</v> <n>noun</n>\". For instance, \"check sand,\" or \"go to door.\"',\n      checkText: \"\",\n      verbs: [],\n    }),\n  ],\n});\n\nmodule.exports = area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/areas/plane.js\n ** module id = 9\n ** module chunks = 0\n **/","Box = function (args) {\n  this.checkText = args.checkText;\n  this.contents = args.contents;\n  this.postscript = args.postscript;\n  this.name = args.name;\n  this.verbs = args.verbs;\n  this.description = args.description;\n};\n\nBox.prototype[\"check\"] = function (noun, player) {\n  var description = noun.checkText + \" \";\n  if (noun.contents.length === 0) {\n    if (noun.emptyText) {\n      description += noun.emptyText;\n    }\n    description = player.highlight(description);\n    player.display(description);\n    return undefined;\n  }\n  if (noun.contents.length === 1) {\n    description += noun.contents[0].description + \".\";\n    description = player.highlight(description);\n    player.display(description);\n    return undefined;\n  }\n  for (var x = 0 ; x < noun.contents.length-1 ; x++) {\n    description += noun.contents[x].description;\n    description += \", \";\n  }\n  description += \"and \" + noun.contents[noun.contents.length-1].description;\n  if (noun.postscript) {\n    description += noun.postscript;\n  }\n  description += \".\";\n  description = player.highlight(description);\n  player.display(description);\n  if (this.onCheck) {\n    this.onCheck();\n  }\n};\n\nBox.prototype[\"@\"] = function (noun, player) {\n  this[\"check\"]();\n};\n\nmodule.exports = Box;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/box.js\n ** module id = 10\n ** module chunks = 0\n **/","Item = function (args) {\n  this.checkText = args.checkText;\n  this.name = args.name;\n  this.verbs = args.verbs;\n  this.description = args.description;\n  this.onGet = args.onGet;\n  this.moves = args.moves;\n};\n\nItem.prototype[\"check\"] = function (noun, player) {\n  player.display(noun.checkText);\n};\n\nItem.prototype[\"use\"] = function (noun, player) {\n  player.display(noun.checkText);\n  console.log(\"Used item.\");\n};\n\nItem.prototype[\"get\"] = function (noun, player) {\n  if (!player.inventory.includes(noun)) {\n    if (noun.onGet) { noun.onGet(); }\n    var message = (noun.name + \"</n>\" + \" added to your inventory.\" + '</br></br>' + noun.checkText);\n    var firstLetter = message.slice(0, 1);\n    message = message.slice(1, message.length);\n    message = '<n>' + firstLetter.toUpperCase() + message;\n    player.inventory.push(noun);\n    player.display(message);\n    player.updateInventory();\n    for (var x = 0; x < player.location.contents.length; x++) {\n      if (player.location.contents[x].name === noun.name) {\n        player.location.contents.splice(x, 1);\n        x--;\n      }\n      if (player.location.contents[x].contents) {\n        for (var y = 0; y < player.location.contents[x].contents.length; y++) {\n          if (player.location.contents[x].contents[y].name === noun.name) {\n            player.location.contents[x].contents.splice(y, 1);\n            y--;\n          }\n        }\n      }\n    }\n    player.book.readArea(player.location);\n  } else {\n    player.display(\"You already have that.\");\n  }\n};\n\nItem.prototype[\"@\"] = function (noun, player) {\n  Item.prototype[\"use\"](noun, player);\n};\n\nmodule.exports = Item;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/item.js\n ** module id = 11\n ** module chunks = 0\n **/","var Area = require('../area.js');\nvar Feature = require('../feature.js');\nvar Box = require('../box.js');\nvar Item = require('../item.js');\nvar Exit = require('../exit.js');\n\narea = new Area ({\n  description: \"You're in a low depression among a vast flat desert.\",\n  name: 'crashsite',\n  worldMap: this,\n  contents: [\n    new Feature ({\n      name: \"plane\",\n      description: \"In the middle of the divot is the half-buried ruin of a smoking plane fuselage.\",\n      checkText: \"From nose to tail the plane is about 32' long, one wing is visible above the sand, badly bent and scraping the ground. The other one appears to be buried. A pillar of smoke rises from the still smoldering tail. In the underbelly of the plane is an open cargo hatch.\",\n      verbs: [\"check\"],\n    }),\n    new Box ({\n      name: \"cargo hatch\",\n      description: \"\",\n      emptyText: \"There's nothing in or around the bag.\",\n      contents: [\n        new Item ({\n          name: \"tin can\",\n          checkText: \"A tin can of beans with the label ripped off.\",\n          description: \"The only thing next to the scraps of the bag is a tin can of beans. The label has been ripped off and canine teeth marks are visible in the metal of the can. <br><br> You can get the tin can if you want it\",\n          verbs: [\"check\", \"get\"],\n        }),\n      ],\n      checkText: \"The acrid smell of burning rubber flows from the cargo hatch. A leather bag is inside, shredded wide open from the bottom.\",\n      verbs: [\"check\"],\n    }),\n    new Exit ({\n      name: \"door\",\n      description: \"On top of the plane is an open door.\",\n      checkText: \"The interior of the plane is completely dark.\",\n      destinationName: 'plane',\n      verbs: [\"check\", \"go to\"],\n    }),\n    new Exit ({\n      name: \"red flag\",\n      description: \"<br><br>In the distance through the low-hanging desert haze you see a red flag hanging still. It looks close enough to go to.\",\n      checkText: \"The red flag hangs slack from a tall pole.\",\n      destinationName: 'red_flag',\n      verbs: [\"check\", \"go to\"],\n    }),\n  ],\n});\n\nmodule.exports = area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/areas/crashsite.js\n ** module id = 12\n ** module chunks = 0\n **/","var Area = require('../area.js');\nvar Feature = require('../feature.js');\nvar Box = require('../box.js');\nvar Item = require('../item.js');\nvar Exit = require('../exit.js');\n\narea = new Area ({\n  description: \"\",\n  name: 'red_flag',\n  worldMap: this,\n  contents: [\n    new Feature ({\n      name: \"red flag\",\n      description: \"You reach a red flag hanging from the top of an eight-foot wooden post.\",\n      checkText: \"The post seems to be buried deep in the earth, and is fixed fast when you try to pull on it. The flag itself seems to be dyed wool, a faded and frayed red.\",\n      verbs: [\"check\"],\n    }),\n    new Exit ({\n      name: \"smoke\",\n      description: \"In the distance you can see a plume of smoke rising over the desert haze. It looks close enough to go to.\",\n      checkText: \"A pillar of smoke in the distance, rising out of a low depression in the desert ground.\",\n      destinationName: 'crashsite',\n      verbs: [\"check\", \"go to\"],\n    }),\n    new Exit ({\n      name: \"blue flag\",\n      description: \"Opposite the smoke you can barely make out on a distant dune a blue flag, similar to the red one.\",\n      checkText: \"A blue flag in the distance rising out of a dune. You can go to it from here.\",\n      destinationName: 'blue_flag',\n      verbs: [\"check\", \"go to\"],\n    }),\n  ],\n});\n\nmodule.exports = area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/areas/red_flag.js\n ** module id = 14\n ** module chunks = 0\n **/","var Area = require('../area.js');\nvar Feature = require('../feature.js');\nvar Box = require('../box.js');\nvar Item = require('../item.js');\nvar Exit = require('../exit.js');\n\narea = new Area ({\n  description: \"\",\n  name: 'blue_flag',\n  worldMap: this,\n  contents: [\n    new Feature ({\n      name: \"blue flag\",\n      description: \"You climb to the top of a loose dune to find the blue flag fixed into the top of it.\",\n      checkText: \"The faded long rectangle of blue wool hangs from the top of a buried post.\",\n      verbs: [\"check\"],\n    }),\n    new Exit ({\n      name: \"red flag\",\n      description: \"Behind you you can see a red flag in the distance.\",\n      checkText: \"A red flag.\",\n      destinationName: 'red_flag',\n      verbs: [\"check\", \"go to\"],\n    }),\n    new Exit ({\n      name: \"dry stream\",\n      description: \"By the bottom of the dune on the side opposite the red flag, you can see a depression in the ground that looks like the bed of a long dry stream. You can descend the dune and go to it.\",\n      checkText: \"A dry dusty trench that looks like it might have once been a stream. Some dry scraggled shrubs grow around it.\",\n      destinationName: 'dry_stream',\n      verbs: [\"check\", \"go to\"],\n    }),\n  ],\n});\n\nmodule.exports = area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/areas/blue_flag.js\n ** module id = 15\n ** module chunks = 0\n **/","var Area = require('../area.js');\nvar Feature = require('../feature.js');\nvar Box = require('../box.js');\nvar Item = require('../item.js');\nvar Exit = require('../exit.js');\n\narea = new Area ({\n  description: \"A dried-up stream.\",\n  name: 'red_flag',\n  worldMap: this,\n  contents: [\n    new Box ({\n      name: \"shrubs\",\n      description: \"Some dry sharp shrubs are sprouting from the cracked earth at the bed of the one-time stream.\",\n      emptyText: \"They're picked clean of olives.\",\n      contents: [\n        new Item ({\n          name: \"olives\",\n          checkText: \"Small, dry olives.\",\n          description: \"Small olives are sprouting from their branches at places. You might be able to get some\",\n          verbs: [\"check\", \"get\"],\n        }),\n      ],\n      checkText: \"Dry shrubs clinging to the desert ground.\",\n      verbs: [\"check\"],\n    }),\n  ],\n});\n\nmodule.exports = area;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./js/areas/dry_stream.js\n ** module id = 16\n ** module chunks = 0\n **/"],"sourceRoot":""}